<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Decor Booking - Agos</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --teal: #33C1C1; --dark: #171F26; --bg: #0f171e; --card: #1c262f; --text: #ffffff; }
        body { font-family: 'Segoe UI', sans-serif; background-color: var(--bg); color: var(--text); padding: 20px; line-height: 1.4; }
        .header { text-align: center; border-bottom: 2px solid var(--teal); padding-bottom: 10px; margin-bottom: 20px; }
        .header h1 { color: var(--teal); font-size: 1.1rem; text-transform: uppercase; margin: 0; }
        label { display: block; margin: 15px 0 5px; font-size: 0.8rem; color: var(--teal); font-weight: bold; }
        .am { color: var(--text); font-weight: normal; font-size: 0.75rem; display: block; }
        input, select, textarea { width: 100%; padding: 12px; border: 1px solid #2d3843; border-radius: 8px; background: var(--card); color: white; box-sizing: border-box; outline: none; }
        .btn { background: var(--teal); color: var(--dark); border: none; width: 100%; padding: 16px; border-radius: 30px; font-weight: bold; margin-top: 30px; cursor: pointer; text-transform: uppercase; font-size: 1rem; }
    </style>
</head>
<body>
    <div class="header"><h1>Decor Booking / የዲኮር ምዝገባ</h1></div>
    
    <label>1. FULL NAME <span class="am">(ሙሉ ስም)</span></label>
    <input type="text" id="d_name">

    <label>2. NEWBORN GENDER <span class="am">(የልጁ ጾታ)</span></label>
    <select id="d_gender">
        <option value="Boy">Boy (ወንድ)</option>
        <option value="Girl">Girl (ሴት)</option>
        <option value="NotSure">Not Sure (ገና አላወቅኩም)</option>
    </select>

    <label>3. ADDRESS FOR SETUP <span class="am">(ዲኮር የሚሰራበት አድራሻ)</span></label>
    <input type="text" id="d_addr">

    <label>4. PHONE NUMBER <span class="am">(ስልክ ቁጥር)</span></label>
    <input type="tel" id="d_phone">

    <label>5. CONTACT PERSON AT HOME <span class="am">(ቤት ውስጥ የሚገኝ ተጠሪ ሰው)</span></label>
    <input type="text" id="d_contact">

    <label>6. CHOOSE PACKAGE <span class="am">(ፓኬጅ ይምረጡ)</span></label>
    <select id="d_pkg">
        <option value="15000">Standard Decor - 15,000 ETB</option>
        <option value="20000">Deluxe Decor - 20,000 ETB</option>
        <option value="25000">Premium Decor - 25,000 ETB</option>
    </select>

    <label>7. SETUP DATE & TIME <span class="am">(የሚሰራበት ቀን እና ሰዓት)</span></label>
    <input type="text" id="d_date" placeholder="E.g. 12/10/2016, 8:00 LT">

    <label>8. HOUSE TYPE <span class="am">(የቤት አይነት)</span></label>
    <select id="d_house">
        <option value="Villa">Villa (ቪላ)</option>
        <option value="Apartment">Apartment (አፓርታማ)</option>
        <option value="Condo">Condo (ኮንዶ)</option>
        <option value="G+1">G+1</option>
        <option value="G+2">G+2</option>
    </select>

    <label>9. ADDITIONAL SERVICES <span class="am">(ተጨማሪ ፍላጎቶች - ፎቶ/ቪዲዮ/ሊሙዚን)</span></label>
    <textarea id="d_notes"></textarea>

    <button class="btn" onclick="send()">Book Decor / ይዘዙ</button>


    <script>
    const tg = window.Telegram.WebApp;
    tg.expand(); // Forces the app to open full screen

    function send() {
        const data = { type: 'POSTPARTUM' }; // or 'DECOR' for the other form
        
        // Loop through all inputs
        document.querySelectorAll('input, select, textarea').forEach(el => {
            if(el.id) data[el.id] = el.value;
        });

        // IMPORTANT: Check if the app is actually running inside Telegram
        if (window.Telegram.WebApp.initData === "") {
            alert("This form only works when opened inside the Telegram Bot!");
            return;
        }

        tg.sendData(JSON.stringify(data)); 
        tg.close(); // Closes the mini-app after sending
    }
</script>
</body>

</html>
